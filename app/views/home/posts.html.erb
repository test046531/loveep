<% provide(:title, "Home-Posts") %>

<div class="main posts-index">
    <h1 class="post-logo mt-2">投稿一覧</h1>

    <div class="main posts-index">
        <div class="container mt-4">
            <div class="row g-4">
                <% if @posts.present? %>
                <% @posts.each do |post| %>
                <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                    <div class="posts-index-item p-3 shadow rounded">
                        <div class="post-above">
                            <% if post.image_name.present? %>
                            <!-- 画像をクリックしても投稿詳細ページへ -->
                            <%= link_to user_post_path(post.user_id, post), class: 'image-link' do %>
                            <%= image_tag post.image_name.url, class: 'fixed-size-image' %>
                            <% end %>
                            <% end %>
                        </div>
                        <div class="post-under mt-2"><%= link_to(post.content, user_post_path(post.user_id, post)) %></div>
                        <div class="post-name mt-2"><%= link_to(post.user.name, user_posts_path(post.user))%></div>
                    </div>
                </div>
                <% end %>
                <% end %>
            </div>

            <div class="pagination mt-4">
                <%= paginate @posts %>
                <!-- ページネーションの表示 -->
            </div>
        </div>
    </div>
</div>